# 사장님 전용 자료실 기능 설계안

## 📋 개요
자영업자들이 실무에서 바로 사용할 수 있는 유용한 양식, 템플릿, 가이드를 제공하는 자료실 기능입니다.

## 🎯 핵심 기능

### 1. 자료 카테고리
```
📄 계약서 & 서류
  - 근로계약서 템플릿
  - 임대차계약서 양식
  - 공급계약서 양식
  - 영수증 양식
  - 세금계산서 양식

💰 회계 & 세무
  - 월별 매출/지출 정리표
  - 부가세 신고 양식
  - 원천징수 영수증 양식
  - 급여대장 템플릿
  - 인건비 계산기 (엑셀)

📊 운영 관리
  - 재고관리표
  - 직원 근무시간표
  - 고객 관리 양식
  - 매출 분석 템플릿

📝 마케팅 & 홍보
  - 이벤트 기획서 템플릿
  - SNS 포스팅 가이드
  - 고객 설문지 양식
  - 리뷰 관리 체크리스트

🏪 업종별 특화 자료
  - 치킨집: 배달 주문서, 재료 발주서
  - 카페: 원두 관리표, 메뉴 가격표
  - 한식당: 식자재 발주서, 레시피 관리
  - 기타 업종별 맞춤 양식
```

### 2. UI/UX 디자인

#### 메인 페이지 (`/resources`)
```
┌─────────────────────────────────┐
│  📚 사장님 자료실               │
│  [검색창] 🔍                    │
├─────────────────────────────────┤
│  카테고리 탭                    │
│  [전체] [계약서] [회계] [운영]  │
├─────────────────────────────────┤
│  📄 근로계약서 템플릿            │
│  📎 DOCX | 📥 다운로드          │
│  ⭐ 4.8 (127명) | 📅 2024.01.15 │
├─────────────────────────────────┤
│  📄 월별 매출 정리표             │
│  📎 XLSX | 📥 다운로드          │
│  ⭐ 4.9 (89명) | 📅 2024.01.10  │
└─────────────────────────────────┘
```

#### 자료 상세 페이지 (`/resources/[id]`)
```
┌─────────────────────────────────┐
│  ← 뒤로가기                     │
├─────────────────────────────────┤
│  📄 근로계약서 템플릿            │
│  ⭐ 4.8 (127명)                  │
│  📅 업데이트: 2024.01.15        │
│  📂 카테고리: 계약서 & 서류     │
├─────────────────────────────────┤
│  📋 설명                         │
│  최신 근로기준법에 맞춘          │
│  근로계약서 템플릿입니다.         │
│  필요한 항목만 수정하여          │
│  바로 사용하실 수 있습니다.      │
├─────────────────────────────────┤
│  📎 파일 정보                    │
│  파일명: 근로계약서_템플릿.docx  │
│  크기: 45.2 KB                  │
│  형식: DOCX                     │
├─────────────────────────────────┤
│  [📥 다운로드] [⭐ 즐겨찾기]     │
└─────────────────────────────────┘
```

### 3. 기술 구현

#### Firestore 데이터 구조
```typescript
// resources 컬렉션
{
  id: string
  title: string                    // 자료 제목
  description: string              // 설명
  category: string                 // 카테고리
  subCategory?: string            // 하위 카테고리
  fileUrl: string                  // Firebase Storage URL
  fileName: string                 // 원본 파일명
  fileSize: number                 // 파일 크기 (bytes)
  fileType: string                 // 파일 형식 (docx, xlsx, pdf 등)
  thumbnailUrl?: string           // 썸네일 이미지 (PDF의 경우)
  downloadCount: number            // 다운로드 횟수
  rating: number                   // 평점 (1-5)
  ratingCount: number              // 평가 수
  tags: string[]                  // 태그
  isPremium: boolean              // 프리미엄 자료 여부
  isVerified: boolean              // 검증된 자료 여부
  createdAt: Timestamp
  updatedAt: Timestamp
  createdBy: string               // 관리자 UID
}

// user_resources 컬렉션 (사용자별 다운로드 기록)
{
  userId: string
  resourceId: string
  downloadedAt: Timestamp
  isFavorite: boolean
  userRating?: number
}
```

#### Firebase Storage 구조
```
resources/
  ├── contracts/
  │   ├── 근로계약서_템플릿.docx
  │   └── 임대차계약서_양식.pdf
  ├── accounting/
  │   ├── 월별_매출정리표.xlsx
  │   └── 부가세_신고양식.pdf
  └── thumbnails/
      ├── 근로계약서_템플릿.jpg
      └── 월별_매출정리표.jpg
```

### 4. 주요 기능 상세

#### 4.1 검색 기능
- 제목, 설명, 태그로 검색
- 실시간 검색 결과 표시
- 인기 검색어 표시

#### 4.2 필터링
- 카테고리별 필터
- 파일 형식별 필터 (DOCX, XLSX, PDF)
- 인기순 / 최신순 / 평점순 정렬
- 프리미엄 자료 필터

#### 4.3 다운로드
- Firebase Storage에서 직접 다운로드
- 다운로드 횟수 실시간 업데이트
- 다운로드 기록 저장 (중복 다운로드 방지)

#### 4.4 평가 시스템
- 별점 평가 (1-5점)
- 평가 통계 표시
- 사용자별 평가 기록

#### 4.5 즐겨찾기
- 마이페이지에서 즐겨찾기 목록 확인
- 빠른 접근 가능

### 5. 관리자 기능

#### 5.1 자료 업로드 (`/admin/resources`)
```
┌─────────────────────────────────┐
│  📤 자료 업로드                 │
├─────────────────────────────────┤
│  제목: [입력]                   │
│  설명: [입력]                   │
│  카테고리: [선택]               │
│  파일: [파일 선택]              │
│  썸네일: [이미지 선택] (선택)   │
│  태그: [입력]                   │
│  [ ] 프리미엄 자료               │
│  [ ] 검증 완료                  │
│  [업로드]                       │
└─────────────────────────────────┘
```

#### 5.2 자료 관리
- 자료 목록 조회
- 자료 수정/삭제
- 다운로드 통계 확인
- 평가 관리

### 6. 네비게이션 통합

#### 하단 네비게이션 수정
```typescript
const navItems = [
  { path: '/', label: '홈', icon: Home },
  { path: '/resources', label: '자료실', icon: FolderOpen }, // 새로 추가
  { path: '/editor', label: '디자인', icon: Image },
  { path: '/mypage', label: '마이', icon: User },
]
```

### 7. 파일 형식 지원

#### 지원 파일 형식
- **문서**: DOCX, PDF
- **스프레드시트**: XLSX, CSV
- **이미지**: JPG, PNG (썸네일용)
- **기타**: TXT, ZIP

#### 파일 크기 제한
- 일반 자료: 최대 10MB
- 프리미엄 자료: 최대 50MB

### 8. 보안 및 권한

#### 접근 권한
- 모든 로그인 사용자: 자료 조회, 다운로드
- 인증된 사업자: 프리미엄 자료 접근
- 관리자: 자료 업로드, 수정, 삭제

#### 다운로드 제한
- 무료 자료: 무제한 다운로드
- 프리미엄 자료: 인증된 사업자만 다운로드 가능
- 일일 다운로드 제한: 사용자당 최대 50개

### 9. 성능 최적화

#### 캐싱 전략
- 자료 목록: Firestore 캐싱
- 파일 다운로드: Firebase Storage CDN 활용
- 썸네일 이미지: Cloudinary 또는 Firebase Storage

#### 페이지네이션
- 한 페이지당 20개 자료 표시
- 무한 스크롤 또는 페이지 번호 방식

### 10. 추천 자료 목록 (초기 제공)

#### 필수 자료
1. **근로계약서 템플릿** (DOCX)
   - 최신 근로기준법 반영
   - 업종별 맞춤 버전 제공

2. **월별 매출/지출 정리표** (XLSX)
   - 자동 계산 기능 포함
   - 세무 신고용 데이터 추출

3. **부가세 신고 가이드** (PDF)
   - 단계별 설명
   - 체크리스트 포함

4. **재고관리표** (XLSX)
   - 입출고 자동 계산
   - 재고 알림 기능

5. **직원 근무시간표** (XLSX)
   - 주간/월간 근무시간 관리
   - 초과근무 자동 계산

## 🚀 구현 우선순위

### Phase 1 (필수)
1. ✅ 자료 목록 페이지
2. ✅ 자료 상세 페이지
3. ✅ 파일 다운로드 기능
4. ✅ 카테고리 필터링
5. ✅ 관리자 자료 업로드

### Phase 2 (중요)
6. ✅ 검색 기능
7. ✅ 평가 시스템
8. ✅ 즐겨찾기 기능
9. ✅ 다운로드 통계

### Phase 3 (선택)
10. ⏳ 프리미엄 자료 기능
11. ⏳ 추천 자료 시스템
12. ⏳ 자료 댓글/후기
13. ⏳ 자료 공유 기능

## 📱 반응형 디자인

### 모바일 (기본)
- 카드 형태의 자료 목록
- 터치 친화적 버튼 크기
- 스와이프 제스처 지원

### 태블릿/데스크톱
- 그리드 레이아웃 (2-3열)
- 사이드바 필터
- 미리보기 기능

## 🎨 디자인 가이드

### 색상
- **자료실 메인**: #1A2B4E (딥 네이비)
- **카테고리 배지**: #FFBF00 (앰버 골드)
- **다운로드 버튼**: #10B981 (그린)
- **프리미엄 배지**: #F59E0B (오렌지)

### 아이콘
- 📚 FolderOpen (자료실)
- 📄 FileText (문서)
- 📊 BarChart (회계)
- 📝 Clipboard (운영)
- ⭐ Star (평점)
- 📥 Download (다운로드)

## 📊 예상 효과

1. **사용자 만족도 향상**
   - 실무에 바로 사용 가능한 자료 제공
   - 시간 절약 및 업무 효율성 증대

2. **플랫폼 가치 증대**
   - 단순 커뮤니티를 넘어 실용적 도구 제공
   - 사용자 유지율 증가

3. **수익 모델 확장**
   - 프리미엄 자료 유료화 가능
   - 광고 수익 기회

## 🔗 연관 기능

- **사업자 인증**: 프리미엄 자료 접근 권한
- **마이페이지**: 즐겨찾기, 다운로드 기록
- **관리자 페이지**: 자료 관리, 통계 확인

